# Documentation for `SimplifiedLLMOncePB` Step

## Overview

The `SimplifiedLLMOncePB` step is part of the `patchwork` library and is designed to facilitate calling a language model (LLM) with specific configurations and inputs. This documentation will cover the details of the code files including inputs, outputs, and usage.

## Table of Contents
- [Files](#files)
  - [typed.py](#file-patchworkstepsSimplifiedLLMOncePBtypedpy)
  - [__init__.py](#file-patchworkstepsSimplifiedLLMOncePB__init__py)
  - [SimplifiedLLMOncePB.py](#file-patchworkstepsSimplifiedLLMOncePBSimplifiedLLMOncePBpy)

## Files

### File: `patchwork/steps/SimplifiedLLMOncePB/typed.py`

- **Extension:** .py
- **Size:** 1616 bytes
- **Created:** 2024-09-20 10:55:38
- **Modified:** 2024-09-20 10:55:38

#### Code

This module defines the input types for the `SimplifiedLLMOncePB` step using the `TypedDict` class from `typing_extensions`.

#### Inputs

- **json_schema:** A dictionary representing the JSON schema, marked as a configuration.
- **user_prompt:** A user prompt string required for the LLM call, marked as a configuration.
- **prompt_value:** A dictionary containing the prompt values.
- **Optional Inputs:**
  - **system_prompt:** An optional system prompt string.
  - **model:** A string representing the model name.
  - **openai_api_key:** Your OpenAI API key.
  - **anthropic_api_key:** Your Anthropic API key.
  - **patched_api_key:** Your patched API key, with instructions if missing.
  - **google_api_key:** Your Google API key.

### File: `patchwork/steps/SimplifiedLLMOncePB/__init__.py`

- **Extension:** .py
- **Size:** 0 bytes
- **Created:** 2024-09-20 10:55:38
- **Modified:** 2024-09-20 10:55:38

#### Code

This file is currently empty, serving as an initialization file for the module.

### File: `patchwork/steps/SimplifiedLLMOncePB/SimplifiedLLMOncePB.py`

- **Extension:** .py
- **Size:** 1351 bytes
- **Created:** 2024-09-20 10:55:38
- **Modified:** 2024-09-20 10:55:38

#### Code

This module defines the `SimplifiedLLMOncePB` class that extends the `Step` class from `patchwork`.

#### Inputs

The inputs are encapsulated in the `SimplifiedLLMOncePBInputs` class defined in `typed.py`. These include:

- **Required:**
  - `user_prompt`
  - `json_schema`
  - `prompt_value`
- **Optional:**
  - `system_prompt`
  - `model`
  - `openai_api_key`
  - `anthropic_api_key`
  - `patched_api_key`
  - `google_api_key`

#### Outputs

The `run` method returns a dictionary that includes:

- **Extracted Responses:** Responses generated by the LLM.
- **Request Tokens:** The number of tokens in the request.
- **Response Tokens:** The number of tokens in the response.

#### Usage

To use this step:

1. **Initialize:**
   ```python
   from patchwork.steps.SimplifiedLLMOncePB.SimplifiedLLMOncePB import SimplifiedLLMOncePB
   
   inputs = {
       "user_prompt": "Your user prompt here",
       "json_schema": {"type": "object", "properties": {"key": {"type": "string"}}},
       "prompt_value": {"key": "value"},
       "openai_api_key": "your_openai_api_key_here"
   }
   
   step = SimplifiedLLMOncePB(inputs)
   ```

2. **Run:**
   ```python
   results = step.run()
   print(results)
   ```

This concludes the documentation for the `SimplifiedLLMOncePB` step. Feel free to extend and use this as a reference for implementing and integrating this step into your project.