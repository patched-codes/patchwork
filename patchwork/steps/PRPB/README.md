# Documentation for PRPB Module

## Contents
- [File: PRPB.py](#file-prpbpy)
- [File: typed.py](#file-typedpy)
- [File: \_\_init\_\_.py](#file-__init__py)

## File: PRPB.py

### Overview
`PRPB.py` defines the `PRPB` class that extends the `Step` class to perform operations related to managing and preparing Pull Requests (PRs). It processes input configurations, modifies file paths, and makes use of the `PR` class to execute the steps required for PR preparation.

### Inputs
- `inputs`: A dictionary containing various configurations such as:
  - `path_key`: A required key for identifying file paths.
  - `comment_title_key` (optional): Key for the commit message title.
  - `comment_message_key` (optional): Key for the patch message.
  - `modified_files`: A list, dictionary, or string representing the modified files.

### Outputs
- The `run` method returns the outputs generated by the `PR` class, which include details about the PR, like the base branch, target branch, pr body, and pr URL.

### Code Usage
```python
from patchwork.steps.PRPB.PRPB import PRPB
from patchwork.steps.PRPB.typed import PRPBInputs

inputs = PRPBInputs(
    modified_files=[{"path_key": "path/to/file"}],
    path_key="path_key",
    ...
)

prpb_step = PRPB(inputs)
output = prpb_step.run()
print(output)
```

## File: typed.py

### Overview
`typed.py` provides type definitions for inputs and outputs used by the `PRPB` class. It makes use of `TypedDict` to enforce input structure and types, improving code reliability and readability.

### Inputs
- **PRPBInputs**: Required fields:
  - `modified_files`: List of dictionaries containing file details.
  - `path_key`: String key for identifying file paths.
  - Optional configuration fields with annotations like `disable_branch`, `force_branch_creation`, `branch_prefix`, `branch_suffix`, `pr_header`, etc.

### Outputs
- **PRPBOutputs**: Expected output fields from the `PRPB` step:
  - `base_branch`: Base branch name.
  - `target_branch`: Target branch name.
  - `pr_body`: Body content for the PR.
  - `pr_url`: URL of the created PR.

### Code Usage
```python
from patchwork.steps.PRPB.typed import PRPBInputs, PRPBOutputs

inputs = PRPBInputs(
    modified_files=[{"path": "path/to/modified/file"}],
    path_key="path",
    comment_title_key="commit_message",
    comment_message_key="patch_message"
)

outputs = PRPBOutputs(
    base_branch="main",
    target_branch="feature-branch",
    pr_body="This is the PR body",
    pr_url="http://example.com/pr/1"
)
```

## File: \_\_init\_\_.py

### Overview
This file appears to be a placeholder (`__init__.py`) that initializes the `PRPB` module. It is currently empty but necessary for Python to recognize the directory as a package.

### Code Usage
```python
import patchwork.steps.PRPB
```

---

This documentation aims to provide an easy understanding of the files and functionalities in the `PRPB` module, including their inputs, outputs, and usage examples.